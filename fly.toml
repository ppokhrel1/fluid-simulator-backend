# fly.toml file generated for your-app-name-here on the current date
app = "fluid-simulator-backend" # <-- CRITICAL: Use your desired, unique app name
primary_region = "iad"    # <-- Use a region close to your users (e.g., 'iad', 'syd', 'lhr')
kill_signal = "SIGTERM"
kill_timeout = "5s"

[build]
# Since you have a Dockerfile, we point to it here.
# Assuming your Dockerfile is named 'Dockerfile' and is in the root.
dockerfile = "Dockerfile" 

[env]
# Optional: Add any environment variables (like DATABASE_URL, etc.)
# which you don't set as secrets.
# EXAMPLE_ENV = "value"

[http_service]
internal_port = 8080 # <-- The default port uvicorn listens to on Fly.io's proxy
force_https = true
auto_start_machines = true
auto_stop_machines = true
min_machines_running = 0
processes = ["app"] # The default process group

[http_service.checks]
interval = "15s"
timeout = "5s"
grace_period = "5s"
method = "GET"
path = "/health" # <-- Update this if you have a different health check endpoint